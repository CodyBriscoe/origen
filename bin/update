#!/usr/bin/env ruby
$VERBOSE = nil  # Don't care about world writable dir warnings and the like

require 'pathname'
#require 'byebug' # Un-comment to debug this file

# Keep a note of the pwd at the time when Origen was first loaded, this is initially used
# by the site_config lookup.
$_origen_invocation_pwd ||= Pathname.pwd

load File.expand_path('../../lib/origen/operating_systems.rb', __FILE__)
load File.expand_path('../../lib/origen/site_config.rb', __FILE__)

origen_root = ARGV.shift

# Force everyone to have a consistent way of installing gems with bundler
ENV['BUNDLE_GEMFILE'] = File.join(origen_root, 'Gemfile')
ENV['BUNDLE_PATH'] = File.expand_path(Origen.site_config.gem_install_dir)
ENV['BUNDLE_BIN'] = File.join(origen_root, 'lbin')

require ARGV.shift


